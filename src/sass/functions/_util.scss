/// Recursively apply a function to a set of values.
///
/// @function apply-fn
/// @param    {*}  $fn
/// @param    {*}  $values
/// @return   {*}
@function apply-fn($fn, $values) {
    $new-values: ();

    @each $value in $values {
        $new-values: append($new-values, call($fn, $value), list-separator($values));
    }

    @return $new-values;
}

/// Strip the unit of a number
///
/// @function  strip-unit
/// @param     {*}  $n
/// @return    {Number}
@function strip-unit($n) {
    @return $n / ($n * 0 + 1);
}

/// Convert a map into a serialized string.
/// foo=bar&bar=baz
///
/// @function  serialize-map
/// @param     {Map}  $map
/// @return    {String}
@function serialize-map($map) {
    $str: '';

    @each $key, $value in $map {
        $str: $str + $key + '=' + ($value) + '&';
    }

    $str: str-slice($str, 1, -2);

    @return $str;
}

/// Map deep get
///
/// @function  map-deep-get
/// @param     {Map}      $map
/// @param     {Arglist}  $keys
/// @return    {*}
@function map-deep-get($map, $keys...) {
    @each $key in $keys {
        $map: map-get($map, $key);
    }
    
    @return $map;
}