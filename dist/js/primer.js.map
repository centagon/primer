{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/lib/Anchor.js","src/js/lib/Equalizer.js","src/js/lib/LazyLoader.js","src/js/lib/Scroll.js","src/js/lib/Util.js","src/js/primer.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wCCc+B;AACvB,UAAM,UAAU,SAAS,gBAAT,CAA0B,kBAA1B,CAAhB;;AAEA,SAAG,OAAH,CAAW,IAAX,CAAgB,OAAhB,EAAyB,UAAC,EAAD;AAAA,eAAQ,GAAG,YAAH,CAAgB,QAAhB,EAA0B,QAA1B,CAAR;AAAA,OAAzB;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;ACPL;;;;IAEqB,S;;;;;;;;AAOjB,yBAAqC;AAAA,YAAzB,QAAyB,yDAAd,YAAc;;AAAA;;AACjC,aAAK,QAAL,GAAgB,QAAhB;AACH;;;;;;;;;;;mCAO0B;AAAA;;AAAA,gBAAlB,OAAkB,yDAAR,MAAQ;;AACvB,oBAAQ,MAAR,GAAiB;AAAA,uBAAM,MAAK,QAAL,EAAN;AAAA,aAAjB;;AAEA,cAAE,OAAF,EAAW,EAAX,CAAc,uBAAd,EAAuC,UAAC,CAAD,EAAI,KAAJ,EAAc;AACjD,oBAAI,UAAU,OAAd,EAAuB,MAAK,QAAL;AAC1B,aAFD;;AAIA,8BAAY,QAAZ,CAAqB,YAAM;AACvB,oBAAI,UAAU,cAAV,EAAJ,EAAgC;AAC5B,0BAAK,QAAL;AACH,iBAFD,MAEO;AACH,0BAAK,KAAL;AACH;AACJ,aAND;;AAQA,mBAAO,IAAP;AACH;;;;;;;;mCAKU;AACP,gBAAM,WAAW,KAAK,WAAL,EAAjB;AACA,gBAAM,SAAS,EAAf;AACA,gBAAM,QAAQ,EAAd;;AAEA,eAAG,OAAH,CAAW,IAAX,CAAgB,QAAhB,EAA0B,UAAC,OAAD,EAAa;AACnC,oBAAM,QAAQ,QAAQ,YAAR,CAAqB,eAArB,KAAyC,QAAvD;;;;;AAKA,oBAAI,iBAAW,SAAX,CAAqB,OAArB,KAAiC,UAAU,cAAV,EAArC,EAAiE;AAC7D,wBAAI,CAAC,OAAO,KAAP,CAAL,EAAoB;AAChB,+BAAO,KAAP,IAAgB,EAAhB;;;;;AAKA,8BAAM,OAAN,CAAc,KAAd;AACH;;AAED,2BAAO,KAAP,EAAc,IAAd,CAAmB,OAAnB;AACH;AACJ,aAlBD;;;;AAsBA,kBAAM,OAAN,CAAc,UAAC,KAAD,EAAW;AACrB,oBAAM,MAAM,KAAK,GAAL,CAAS,KAAT,CAAe,IAAf,EAAqB,OAAO,KAAP,EAAc,GAAd,CAAkB,UAAC,OAAD;AAAA,2BAAa,QAAQ,YAArB;AAAA,iBAAlB,CAArB,CAAZ;;AAEA,uBAAO,KAAP,EAAc,OAAd,CAAsB,UAAC,OAAD,EAAa;AAC/B,4BAAQ,KAAR,CAAc,MAAd,GAA0B,GAA1B;AACH,iBAFD;AAGH,aAND;;AAQA,cAAE,QAAF,EAAY,OAAZ,CAAoB,sBAApB;AACH;;;;;;;;gCAKO;AACJ,gBAAM,WAAW,KAAK,WAAL,EAAjB;;AAEA,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,MAA7B,EAAqC,GAArC,EAA0C;AACtC,yBAAS,CAAT,EAAY,KAAZ,CAAkB,MAAlB,GAA2B,IAA3B;AACH;AACJ;;;sCAEa;AACV,mBAAO,SAAS,gBAAT,CAA0B,KAAK,QAA/B,CAAP;AACH;;;;;;;;;yCAMuB;AACpB,mBAAO,EAAE,WAAW,UAAX,CAAsB,OAAtB,KAAkC,OAApC,CAAP;AACH;;;;;;kBAhGgB,S;;;;;;;;;;;;;;;;;;;;;;;;;;ACEjB,kBAAwC;AAAA,QAA5B,QAA4B,yDAAjB,eAAiB;;AAAA;;AACpC,OAAG,OAAH,CAAW,IAAX,CAAgB,SAAS,gBAAT,CAA0B,QAA1B,CAAhB,EAAqD,UAAC,GAAD,EAAS;AAC1D,YAAI,YAAJ,CAAiB,KAAjB,EAAwB,IAAI,YAAJ,CAAiB,UAAjB,CAAxB;;AAEA,YAAI,MAAJ,GAAa;AAAA,mBAAM,IAAI,eAAJ,CAAoB,UAApB,CAAN;AAAA,SAAb;AACH,KAJD;AAKH,C;;;;;;;;;;;;;;;;;;;;ACZL;;;;IAEqB,M;;;;;;;;AAOjB,oBAAY,OAAZ,EAAqB;AAAA;;AAAA;;AACjB,aAAK,QAAL,GAAgB,YAAM,KAAN,CAAY;AACxB,uBAAW,OAAO,WAAP,GAAqB,CADR;AAExB,+BAAmB,6BAAM,CAAE,CAFH;AAGxB,8BAAkB,4BAAM,CAAE;AAHF,SAAZ,EAIb,OAJa,CAAhB;;AAMA,eAAO,QAAP,GAAkB;AAAA,mBAAM,MAAK,gBAAL,EAAN;AAAA,SAAlB;AACH;;;;;;;;;2CAKkB;AACf,gBAAI,KAAK,qBAAL,EAAJ,EAAkC;AAC9B,qBAAK,QAAL,CAAc,gBAAd;AACH,aAFD,MAEO;AACH,qBAAK,QAAL,CAAc,iBAAd;AACH;AACJ;;;;;;;;;;gDAOuB;AACpB,gBAAM,YAAY,KAAK,QAAL,CAAc,SAAhC;;AAEA,mBAAO,OAAO,WAAP,KAAuB,SAA9B;AACH;;;;;;;;;;sCAOoB;AACjB,mBAAO,SAAS,IAAT,CAAc,SAAd,IAA2B,SAAS,eAAT,CAAyB,SAA3D;AACH;;;;;;kBA9CgB,M;;;;;;;;;;;;;;;;;;;;;;ICFR,K,WAAA,K;;;;;;;;;;;;;;;;8BASI,I,EAAM,I,EAAM;AACrB,mBAAO,IAAP,CAAY,IAAZ,EAAkB,OAAlB,CAA0B,UAAC,IAAD,EAAU;AAChC,oBAAI;AACA,wBAAI,KAAK,IAAL,EAAW,WAAX,KAA2B,MAA/B,EAAuC;AACnC,6BAAK,IAAL,IAAa,MAAM,KAAN,CAAY,KAAK,IAAL,CAAZ,EAAwB,KAAK,IAAL,CAAxB,CAAb;AACH,qBAFD,MAEO;AACH,6BAAK,IAAL,IAAa,KAAK,IAAL,CAAb;AACH;AACJ,iBAND,CAME,OAAO,CAAP,EAAU;AACR,yBAAK,IAAL,IAAa,KAAK,IAAL,CAAb;AACH;AACJ,aAVD;;AAYA,mBAAO,IAAP;AACH;;;;;;IAGQ,W,WAAA,W;;;;;;;;;;;;;;;;;;;;iCAaO,Q,EAAU;AACtB,gBAAM,UAAU,yBAAyB,MAAzC;AACA,gBAAM,QAAQ,UAAU,aAAV,GAA0B,QAAxC;;AAEA,mBAAO,gBAAP,CAAwB,KAAxB,EAA+B,UAAC,CAAD;AAAA,uBAAO,SAAS,CAAT,EAAY,YAAY,GAAZ,EAAZ,CAAP;AAAA,aAA/B;AACH;;;;;;;;;;8BAOY;AACT,mBAAO,OAAO,WAAP,GAAqB,OAAO,UAA5B,GAAyC,UAAzC,GAAsD,WAA7D;AACH;;;;;;IAGQ,U,WAAA,U;;;;;;;;;;;;;;;;;kCAUQ,O,EAAS;AACtB,mBAAO,QAAQ,WAAR,GAAsB,CAAtB,IACA,QAAQ,YAAR,GAAuB,CADvB,IAEA,QAAQ,cAAR,GAAyB,MAAzB,GAAkC,CAFzC;AAGH;;;;;;;;;;;;iCASe,O,EAAS;AACrB,mBAAO,CAAC,WAAW,SAAX,CAAqB,OAArB,CAAR;AACH;;;;;;;;;;ACjFL;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;AAEA,OAAO,MAAP,GAAgB,EAAE,wBAAF,EAAU,8BAAV,EAAqB,gCAArB,EAAiC,wBAAjC,EAAhB","file":"primer.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * This file is part of the Centagon Primer package.\n *\n * (c) Centagon <contact@centagon.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport default class {\n\n    /**\n     *\n     */\n    static registerExternals() {\n        const anchors = document.querySelectorAll('a[rel~=external]');\n\n        [].forEach.call(anchors, (el) => el.setAttribute('target', '_blank'));\n    }\n}\n","/* global $ */\n/* global Foundation */\n/**\n * This file is part of the Centagon Primer package.\n *\n * (c) Centagon <contact@centagon.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport { Visibility, Orientation } from './Util';\n\nexport default class Equalizer {\n\n    /**\n     * Equalizer constructor.\n     *\n     * @param  {string}  selector\n     */\n    constructor(selector = '.equalized') {\n        this.selector = selector;\n    }\n\n    /**\n     * Register the equalizer events.\n     *\n     * @returns {Equalizer}\n     */\n    register(element = window) {\n        element.onload = () => this.equalize();\n\n        $(element).on('changed.zf.mediaquery', (e, query) => {\n            if (query !== 'small') this.equalize();\n        });\n\n        Orientation.onChange(() => {\n            if (Equalizer.shouldEqualize()) {\n                this.equalize();\n            } else {\n                this.reset();\n            }\n        });\n\n        return this;\n    }\n\n    /**\n     * Start equalizing the elements.\n     */\n    equalize() {\n        const elements = this.getElements();\n        const groups = {};\n        const order = [];\n\n        [].forEach.call(elements, (element) => {\n            const group = element.getAttribute('data-equalize') || 'global';\n\n            // Check the visibility of the element. Invisible elements do\n            // not consume any space in the document so we cannot\n            // reliably calculate the height of this element.\n            if (Visibility.isVisible(element) && Equalizer.shouldEqualize()) {\n                if (!groups[group]) {\n                    groups[group] = [];\n\n                    // Append the group to the beginning of the ordering array.\n                    // This enables us to walk through the groups and calculate\n                    // the maximum heights from the inside out.\n                    order.unshift(group);\n                }\n\n                groups[group].push(element);\n            }\n        });\n\n        // Calculate the max height of the elements for each group.\n        // Then apply that height to every element in the group.\n        order.forEach((group) => {\n            const max = Math.max.apply(null, groups[group].map((element) => element.offsetHeight));\n\n            groups[group].forEach((element) => {\n                element.style.height = `${max}px`;\n            });\n        });\n\n        $(document).trigger('primer.equalize.done');\n    }\n\n    /**\n     * Resets the previously equalized elements.\n     */\n    reset() {\n        const elements = this.getElements();\n\n        for (let i = 0; i < elements.length; i++) {\n            elements[i].style.height = null;\n        }\n    }\n\n    getElements() {\n        return document.querySelectorAll(this.selector);\n    }\n\n    /**\n     * Determine if the element should be equalized.\n     * @returns {boolean}\n     */\n    static shouldEqualize() {\n        return !(Foundation.MediaQuery.current === 'small');\n    }\n}\n","/**\n * This file is part of the Centagon Primer package.\n *\n * (c) Centagon <contact@centagon.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport default class {\n\n    /**\n     * LazyLoad constructor.\n     * @param   {string}  selector\n     */\n    constructor(selector = 'img[data-src]') {\n        [].forEach.call(document.querySelectorAll(selector), (img) => {\n            img.setAttribute('src', img.getAttribute('data-src'));\n\n            img.onload = () => img.removeAttribute('data-src');\n        });\n    }\n}\n","/**\n * This file is part of the Centagon Primer package.\n *\n * (c) Centagon <contact@centagon.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport { Array } from './Util';\n\nexport default class Scroll {\n\n    /**\n     * OnScroll constructor.\n     *\n     * @param  {object}  options\n     */\n    constructor(options) {\n        this.settings = Array.merge({\n            threshold: window.innerHeight / 2,\n            onBeforeThreshold: () => {},\n            onAfterThreshold: () => {}\n        }, options);\n\n        window.onscroll = () => this.onScrollCallback();\n    }\n\n    /**\n     * The callback that gets executed on every scroll event.\n     */\n    onScrollCallback() {\n        if (this.scrolledPastThreshold()) {\n            this.settings.onAfterThreshold();\n        } else {\n            this.settings.onBeforeThreshold();\n        }\n    }\n\n    /**\n     * Determine that we scrolled passed the given threshold.\n     *\n     * @returns {boolean}\n     */\n    scrolledPastThreshold() {\n        const threshold = this.settings.threshold;\n\n        return Scroll.getPosition() > threshold;\n    }\n\n    /**\n     * Get the current scroll position.\n     *\n     * @returns {number}\n     */\n    static getPosition() {\n        return document.body.scrollTop || document.documentElement.scrollTop;\n    }\n}\n","/**\n * This file is part of the Centagon Primer package.\n *\n * (c) Centagon <contact@centagon.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport class Array {\n\n    /**\n     * Merge two objects.\n     *\n     * @param   {object}  obj1\n     * @param   {object}  obj2\n     * @returns {*}\n     */\n    static merge(obj1, obj2) {\n        Object.keys(obj2).forEach((prop) => {\n            try {\n                if (obj2[prop].constructor === Object) {\n                    obj1[prop] = Array.merge(obj1[prop], obj2[prop]);\n                } else {\n                    obj1[prop] = obj2[prop];\n                }\n            } catch (e) {\n                obj1[prop] = obj2[prop];\n            }\n        });\n\n        return obj1;\n    }\n}\n\nexport class Orientation {\n\n    /**\n     * @callback Orientation~OnChange\n     * @param    {Event}   event\n     * @param    {string}  orientation\n     */\n    /**\n     * Listen to an orientation change event and\n     * execute the supplied callback.\n     *\n     * @param  {Orientation~OnChange}  callback\n     */\n    static onChange(callback) {\n        const support = 'onorientationchange' in window;\n        const event = support ? 'orientation' : 'resize';\n\n        window.addEventListener(event, (e) => callback(e, Orientation.get()));\n    }\n\n    /**\n     * Get the current device orientation.\n     *\n     * @returns {string}\n     */\n    static get() {\n        return window.innerHeight > window.innerWidth ? 'portrait' : 'landscape';\n    }\n}\n\nexport class Visibility {\n\n    /**\n     * Find out if the given element is visibile.\n     * Elements are considered visible if they consume space in the document.\n     * Visible elements have a width or height that is greater than zero.\n     *\n     * @param   {object}  element\n     * @returns {boolean}\n     */\n    static isVisible(element) {\n        return element.offsetWidth > 0\n            || element.offsetHeight > 0\n            || element.getClientRects().length > 0;\n    }\n\n    /**\n     * Determine that an element is not visible (or hidden).\n     * This is calculated by the `Visibility.isVisible` method and returns the opposite.\n     *\n     * @param   {object}  element\n     * @returns {boolean}\n     */\n    static isHidden(element) {\n        return !Visibility.isVisible(element);\n    }\n}\n","/**\n * This file is part of the Centagon Primer package.\n *\n * (c) Centagon <contact@centagon.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport Anchor from './lib/Anchor';\nimport Equalizer from './lib/Equalizer';\nimport LazyLoader from './lib/LazyLoader';\nimport Scroll from './lib/Scroll';\n\nglobal.Primer = { Anchor, Equalizer, LazyLoader, Scroll };\n"]}